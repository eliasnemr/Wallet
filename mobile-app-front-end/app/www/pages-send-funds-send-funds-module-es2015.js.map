{"version":3,"sources":["./node_modules/qr-scanner/qr-scanner.min.js","./src/app/pages/send-funds/send-funds.page.html","./src/app/pages/send-funds/send-funds.module.ts","./src/app/pages/send-funds/send-funds.page.scss","./src/app/pages/send-funds/send-funds.page.ts"],"names":[],"mappings":"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","file":"pages-send-funds-send-funds-module-es2015.js","sourcesContent":["class e{static hasCamera(){return navigator.mediaDevices.enumerateDevices().then((a)=>a.some((a)=>\"videoinput\"===a.kind)).catch(()=>!1)}constructor(a,c,b=e.DEFAULT_CANVAS_SIZE){this.$video=a;this.$canvas=document.createElement(\"canvas\");this._onDecode=c;this._paused=this._active=!1;this.$canvas.width=b;this.$canvas.height=b;this._sourceRect={x:0,y:0,width:b,height:b};this._onCanPlay=this._onCanPlay.bind(this);this._onPlay=this._onPlay.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);\nthis.$video.addEventListener(\"canplay\",this._onCanPlay);this.$video.addEventListener(\"play\",this._onPlay);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);this._qrWorker=new Worker(e.WORKER_PATH)}destroy(){this.$video.removeEventListener(\"canplay\",this._onCanPlay);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",this._onVisibilityChange);this.stop();this._qrWorker.postMessage({type:\"close\"})}start(){if(this._active&&!this._paused)return Promise.resolve();\n\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\");this._active=!0;this._paused=!1;if(document.hidden)return Promise.resolve();clearTimeout(this._offTimeout);this._offTimeout=null;if(this.$video.srcObject)return this.$video.play(),Promise.resolve();let a=\"environment\";return this._getCameraStream(\"environment\",!0).catch(()=>{a=\"user\";return this._getCameraStream()}).then((c)=>{this.$video.srcObject=c;this._setVideoMirror(a)}).catch((a)=>\n{this._active=!1;throw a;})}stop(){this.pause();this._active=!1}pause(){this._paused=!0;this._active&&(this.$video.pause(),this._offTimeout||(this._offTimeout=setTimeout(()=>{let a=this.$video.srcObject&&this.$video.srcObject.getTracks()[0];a&&(a.stop(),this._offTimeout=this.$video.srcObject=null)},300)))}static scanImage(a,c=null,b=null,d=null,f=!1,g=!1){let h=!1,l=new Promise((l,g)=>{b||(b=new Worker(e.WORKER_PATH),h=!0,b.postMessage({type:\"inversionMode\",data:\"both\"}));let n,m,k;m=(a)=>{\"qrResult\"===\na.data.type&&(b.removeEventListener(\"message\",m),b.removeEventListener(\"error\",k),clearTimeout(n),null!==a.data.data?l(a.data.data):g(\"QR code not found.\"))};k=(a)=>{b.removeEventListener(\"message\",m);b.removeEventListener(\"error\",k);clearTimeout(n);g(\"Scanner error: \"+(a?a.message||a:\"Unknown Error\"))};b.addEventListener(\"message\",m);b.addEventListener(\"error\",k);n=setTimeout(()=>k(\"timeout\"),3E3);e._loadImage(a).then((a)=>{a=e._getImageData(a,c,d,f);b.postMessage({type:\"decode\",data:a},[a.data.buffer])}).catch(k)});\nc&&g&&(l=l.catch(()=>e.scanImage(a,null,b,d,f)));return l=l.finally(()=>{h&&b.postMessage({type:\"close\"})})}setGrayscaleWeights(a,c,b,d=!0){this._qrWorker.postMessage({type:\"grayscaleWeights\",data:{red:a,green:c,blue:b,useIntegerApproximation:d}})}setInversionMode(a){this._qrWorker.postMessage({type:\"inversionMode\",data:a})}_onCanPlay(){this._updateSourceRect();this.$video.play()}_onPlay(){this._updateSourceRect();this._scanFrame()}_onVisibilityChange(){document.hidden?this.pause():this._active&&\nthis.start()}_updateSourceRect(){let a=Math.round(2/3*Math.min(this.$video.videoWidth,this.$video.videoHeight));this._sourceRect.width=this._sourceRect.height=a;this._sourceRect.x=(this.$video.videoWidth-a)/2;this._sourceRect.y=(this.$video.videoHeight-a)/2}_scanFrame(){if(!this._active||this.$video.paused||this.$video.ended)return!1;requestAnimationFrame(()=>{e.scanImage(this.$video,this._sourceRect,this._qrWorker,this.$canvas,!0).then(this._onDecode,(a)=>{this._active&&\"QR code not found.\"!==a&&\nconsole.error(a)}).then(()=>this._scanFrame())})}_getCameraStream(a,c=!1){let b=[{width:{min:1024}},{width:{min:768}},{}];a&&(c&&(a={exact:a}),b.forEach((b)=>b.facingMode=a));return this._getMatchingCameraStream(b)}_getMatchingCameraStream(a){return 0===a.length?Promise.reject(\"Camera not found.\"):navigator.mediaDevices.getUserMedia({video:a.shift()}).catch(()=>this._getMatchingCameraStream(a))}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}static _getImageData(a,c=\nnull,b=null,d=!1){b=b||document.createElement(\"canvas\");let f=c&&c.x?c.x:0,g=c&&c.y?c.y:0,h=c&&c.width?c.width:a.width||a.videoWidth;c=c&&c.height?c.height:a.height||a.videoHeight;d||b.width===h&&b.height===c||(b.width=h,b.height=c);d=b.getContext(\"2d\",{alpha:!1});d.imageSmoothingEnabled=!1;d.drawImage(a,f,g,h,c,0,0,b.width,b.height);return d.getImageData(0,0,b.width,b.height)}static _loadImage(a){if(a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||window.ImageBitmap&&a instanceof window.ImageBitmap||\nwindow.OffscreenCanvas&&a instanceof window.OffscreenCanvas)return Promise.resolve(a);if(a instanceof Image)return e._awaitImageLoad(a).then(()=>a);if(a instanceof File||a instanceof URL||\"string\"===typeof a){let c=new Image;c.src=a instanceof File?URL.createObjectURL(a):a;return e._awaitImageLoad(c).then(()=>{a instanceof File&&URL.revokeObjectURL(c.src);return c})}return Promise.reject(\"Unsupported image type.\")}static _awaitImageLoad(a){return new Promise((c,b)=>{if(a.complete&&0!==a.naturalWidth)c();\nelse{let d,f;d=()=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",f);c()};f=()=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",f);b(\"Image load error\")};a.addEventListener(\"load\",d);a.addEventListener(\"error\",f)}})}}e.DEFAULT_CANVAS_SIZE=400;e.WORKER_PATH=\"qr-scanner-worker.min.js\";export default e;\n//# sourceMappingURL=qr-scanner.min.js.map\n","module.exports = \"<ion-app>\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button class=\\\"menu-icon\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"large-text\\\">\\n      Send\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"isCameraOpen==false\\\">\\n\\n  <ion-card class=\\\"webscan-canvas\\\" *ngIf=\\\"!checkPlatform() && isWebCameraOpen\\\">\\n    <ion-card-header class=\\\"medium-text\\\">\\n\\n    Scan Your Minima QR address now...\\n    <ion-progress-bar type=\\\"indeterminate\\\" reversed=\\\"true\\\"></ion-progress-bar>\\n    </ion-card-header>\\n\\n    <video height=\\\"240\\\" #videoElem></video>\\n    <hr>\\n    <ion-button block=\\\"full\\\" (click)=\\\"stopWebScanQR()\\\">Stop Scanning</ion-button>\\n    <hr>\\n  </ion-card>\\n\\n  <ion-card *ngIf=\\\"!isWebCameraOpen\\\">\\n    <ion-card-header>\\n      Post a transaction\\n      <ion-card-title>\\n          <ion-icon style=\\\" font-size:2.0rem;\\\" slot=\\\"start\\\" name=\\\"send\\\" class=\\\"icon-head medium-text\\\" ></ion-icon>\\n      </ion-card-title>\\n    </ion-card-header>\\n\\n    <ion-card-content>\\n        <ion-item>\\n          <ion-label class=\\\"medium-text\\\" position=\\\"floating\\\">Tokens</ion-label>\\n          <ion-select\\n              interface = 'alert'\\n              class=\\\"smaller-text input\\\"\\n              [(ngModel)]=\\\"itemSelected\\\"\\n              (ionChange)=\\\"onItemSelection($event)\\\"> \\n          <ion-select-option *ngFor=\\\"let token of tokenArr;\\\" [value]=\\\"token\\\" class=\\\"token-option\\\">\\n          \\n            <ion-text class=\\\"medium-text\\\" *ngIf=\\\"token.tokenid === '0x00'\\\">\\n            {{ token.token +\\\" {\\\"+  token.tokenid + \\\"}\\\" }} \\n\\n            </ion-text>\\n\\n            <ion-text class=\\\"medium-text\\\" *ngIf=\\\"token.tokenid !== '0x00'\\\">\\n            {{ token.token +\\\" {\\\"+ token.tokenid.substring(0, 12)+\\\"...}\\\"  }} \\n            </ion-text>\\n          </ion-select-option>\\n\\n        </ion-select>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label class=\\\"medium-text\\\" position=\\\"floating\\\">Address</ion-label>\\n          <ion-input #address class=\\\"input\\\" name=\\\"address\\\" [(ngModel)]=\\\"data.address\\\" clearInput=\\\"true\\\"></ion-input>\\n          \\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" slot=\\\"end\\\" [hidden]=\\\"checkPlatform()\\\">\\n          <ion-button type=\\\"button\\\" class=\\\"util-btns\\\" size=\\\"small\\\" (click)=\\\"webScanQR()\\\">\\n            <ion-label class=\\\"small-text\\\" slot=\\\"start\\\" style=\\\"padding:2px\\\">SCAN QR</ion-label>\\n            <ion-icon  name=\\\"qr-scanner\\\" ></ion-icon>\\n          </ion-button>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" slot=\\\"end\\\" [hidden]=\\\"!checkPlatform()\\\">\\n          <ion-button type=\\\"button\\\" class=\\\"util-btns\\\" size=\\\"small\\\" (click)=\\\"scanQR()\\\">\\n            <ion-label class=\\\"small-text\\\" slot=\\\"start\\\" style=\\\"padding:2px\\\">SCAN QR</ion-label>\\n            <ion-icon  size=\\\"small\\\" name=\\\"qr-scanner\\\" ></ion-icon>\\n          </ion-button>\\n          <ion-button type=\\\"button\\\" size=\\\"small\\\" class=\\\"util-btns\\\" (click)=\\\"pasteFromClipboard()\\\">\\n            <ion-label class=\\\"small-text\\\" slot=\\\"start\\\" style=\\\"padding:5px\\\">CLIPBOARD</ion-label>\\n            <ion-icon size=\\\"small\\\" name=\\\"clipboard\\\" ></ion-icon>\\n          </ion-button>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label class=\\\"medium-text\\\" position=\\\"floating\\\">Amount</ion-label>\\n          <ion-input #amount type=\\\"number\\\" name=\\\"amount\\\" class=\\\"input\\\" [(ngModel)]=\\\"data.amount\\\"></ion-input>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n        <!-- Disabled Checkbox -->\\n        <ion-checkbox [(ngModel)]=\\\"messageEntry.isChecked\\\" (ionChange)=\\\"checkboxValue($event, messageEntry.isChecked)\\\"></ion-checkbox>\\n        <ion-label class=\\\"medium-text\\\" [hidden]=\\\"messageEntry.isChecked\\\" style=\\\"padding-left: 10px;\\\">Message</ion-label>\\n        <ion-label class=\\\"medium-text\\\" [hidden]=\\\"!messageEntry.isChecked\\\" style=\\\"padding-left: 10px;\\\">This message is public</ion-label>\\n        </ion-item>\\n        <ion-item [hidden]=\\\"!messageEntry.isChecked\\\">\\n            <ion-textarea \\n            class=\\\"medium-text input\\\"\\n            auto-grow=\\\"true\\\"\\n            #message \\n            [(ngModel)]=\\\"data.message\\\" \\n            placeholder=\\\"type your message...\\\"\\n            maxlength=\\\"255\\\">\\n            </ion-textarea>\\n          <span class=\\\"length smaller-text\\\">{{ data.message.length+\\\"/255\\\"}}</span>\\n        </ion-item>\\n        \\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-buttons> \\n      <ion-button class=\\\"action-btn medium-text\\\" expand=\\\"block\\\" (click)=\\\"stopCamera()\\\"  *ngIf=\\\"isCameraOpen==true\\\">\\n        Stop scanning\\n       </ion-button>\\n      <ion-button class=\\\"action-btn medium-text\\\" expand=\\\"block\\\" (click)=\\\"sendFunds()\\\" *ngIf=\\\"isCameraOpen==false\\\">\\n        <ion-icon name=\\\"send\\\" slot=\\\"start\\\"></ion-icon> Send\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-footer>\\n</ion-app>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SendFundsPage } from './send-funds.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SendFundsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SendFundsPage]\n})\nexport class SendFundsPageModule {}\n","module.exports = \"ion-card-content {\\n  background: var(--ion-card-color);\\n}\\n\\nion-card-header {\\n  background: var(--ion-card-header);\\n}\\n\\nion-footer ion-toolbar ion-buttons ion-button {\\n  width: 100%;\\n}\\n\\n.icon-head {\\n  color: #1FB4CD;\\n}\\n\\n.util-btns {\\n  padding: 3px;\\n  text-align: center;\\n  margin: 2px;\\n}\\n\\n.action-btn {\\n  height: 72px;\\n}\\n\\n.action-btn:hover {\\n  height: 72px !important;\\n}\\n\\n.action-btn:hover ion-icon {\\n  font-size: large;\\n}\\n\\n.transparentBody {\\n  background: none transparent !important;\\n  --background: none transparent !important;\\n}\\n\\n.webscan-canvas {\\n  text-align: center;\\n  --background: none transparent !important;\\n}\\n\\nion-toolbar {\\n  --background: var(--card-header-color);\\n}\\n\\n.input {\\n  opacity: 0.75 !important;\\n}\\n\\n.length {\\n  opacity: 0.5;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGlhcy9Qcm9qZWN0cy9taW5pbWFjb3JlL21vYmlsZS1hcHAtZnJvbnQtZW5kL2FwcC9zcmMvYXBwL3BhZ2VzL3NlbmQtZnVuZHMvc2VuZC1mdW5kcy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3NlbmQtZnVuZHMvc2VuZC1mdW5kcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQ0FBQTtBQ0NGOztBRENBO0VBQ0Usa0NBQUE7QUNFRjs7QURBQTtFQUNFLFdBQUE7QUNHRjs7QURBQTtFQUNFLGNBQUE7QUNHRjs7QUREQTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtFQUVBLFdBQUE7QUNHRjs7QUREQTtFQUNFLFlBQUE7QUNJRjs7QURGQTtFQUNFLHVCQUFBO0FDS0Y7O0FESEk7RUFDRSxnQkFBQTtBQ0tOOztBREZBO0VBQ0MsdUNBQUE7RUFDQSx5Q0FBQTtBQ0tEOztBREZBO0VBQ0Msa0JBQUE7RUFDQyx5Q0FBQTtBQ0tGOztBREhBO0VBQ0Usc0NBQUE7QUNNRjs7QURKQTtFQUNFLHdCQUFBO0FDT0Y7O0FETEE7RUFDRSxZQUFBO0FDUUYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zZW5kLWZ1bmRzL3NlbmQtZnVuZHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQtY29udGVudCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jYXJkLWNvbG9yKTtcbn1cbmlvbi1jYXJkLWhlYWRlciB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jYXJkLWhlYWRlcik7XG59XG5pb24tZm9vdGVyIGlvbi10b29sYmFyIGlvbi1idXR0b25zIGlvbi1idXR0b257XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uaWNvbi1oZWFke1xuICBjb2xvcjogIzFGQjRDRDtcbn1cbi51dGlsLWJ0bnMge1xuICBwYWRkaW5nOiAzcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgLy8gcGFkZGluZzogMXB4O1xuICBtYXJnaW46IDJweDtcbn1cbi5hY3Rpb24tYnRuIHtcbiAgaGVpZ2h0OiA3MnB4O1xufVxuLmFjdGlvbi1idG46aG92ZXIge1xuICBoZWlnaHQ6IDcycHggIWltcG9ydGFudDsgXG5cbiAgICBpb24taWNvbiB7XG4gICAgICBmb250LXNpemU6IGxhcmdlO1xuICAgIH1cbn1cbi50cmFuc3BhcmVudEJvZHkge1xuXHRiYWNrZ3JvdW5kOiBub25lIHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG5cdC0tYmFja2dyb3VuZDogbm9uZSB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xufVxuXG4ud2Vic2Nhbi1jYW52YXMge1xuIHRleHQtYWxpZ246IGNlbnRlcjtcbiBcdC0tYmFja2dyb3VuZDogbm9uZSB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xufVxuaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWNhcmQtaGVhZGVyLWNvbG9yKTtcbn1cbi5pbnB1dCB7XG4gIG9wYWNpdHk6IDAuNzUgIWltcG9ydGFudDtcbn1cbi5sZW5ndGgge1xuICBvcGFjaXR5OiAwLjU7XG59IiwiaW9uLWNhcmQtY29udGVudCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jYXJkLWNvbG9yKTtcbn1cblxuaW9uLWNhcmQtaGVhZGVyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNhcmQtaGVhZGVyKTtcbn1cblxuaW9uLWZvb3RlciBpb24tdG9vbGJhciBpb24tYnV0dG9ucyBpb24tYnV0dG9uIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5pY29uLWhlYWQge1xuICBjb2xvcjogIzFGQjRDRDtcbn1cblxuLnV0aWwtYnRucyB7XG4gIHBhZGRpbmc6IDNweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDJweDtcbn1cblxuLmFjdGlvbi1idG4ge1xuICBoZWlnaHQ6IDcycHg7XG59XG5cbi5hY3Rpb24tYnRuOmhvdmVyIHtcbiAgaGVpZ2h0OiA3MnB4ICFpbXBvcnRhbnQ7XG59XG4uYWN0aW9uLWJ0bjpob3ZlciBpb24taWNvbiB7XG4gIGZvbnQtc2l6ZTogbGFyZ2U7XG59XG5cbi50cmFuc3BhcmVudEJvZHkge1xuICBiYWNrZ3JvdW5kOiBub25lIHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gIC0tYmFja2dyb3VuZDogbm9uZSB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xufVxuXG4ud2Vic2Nhbi1jYW52YXMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIC0tYmFja2dyb3VuZDogbm9uZSB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xufVxuXG5pb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0tY2FyZC1oZWFkZXItY29sb3IpO1xufVxuXG4uaW5wdXQge1xuICBvcGFjaXR5OiAwLjc1ICFpbXBvcnRhbnQ7XG59XG5cbi5sZW5ndGgge1xuICBvcGFjaXR5OiAwLjU7XG59Il19 */\"","import { Tokens } from '../../models/tokens.model';\nimport { BalanceService } from '../../service/balance.service';\nimport { Component, OnInit, NgZone, ViewChild, ElementRef } from '@angular/core';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\nimport { AlertController, Platform, NavParams, IonInput, IonTextarea, ToastController } from '@ionic/angular';\nimport { MinimaApiService } from '../../service/minima-api.service';\nimport { map } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport QrScanner from 'qr-scanner';\n\n@Component({\n  selector: 'app-send-funds',\n  templateUrl: './send-funds.page.html',\n  styleUrls: ['./send-funds.page.scss'],\n  providers: [ BalanceService ],\n})\nexport class SendFundsPage implements OnInit {\n\n  @ViewChild('address', {static: false}) address: IonInput;\n  @ViewChild('amount', {static: false}) amount: IonInput;\n  @ViewChild('message', {static: false}) message: IonTextarea;\n\n  @ViewChild('videoElem', {static: false}) videoElem: ElementRef;\n\n  webQrScanner: any;\n  compareWith: any;\n  itemSelected: any;\n  isCameraOpen: boolean = false;\n  isWebCameraOpen: boolean = false;\n  minimaToken: any;\n  data: any = {};\n\n  //checkboxValue\n  messageEntry: any = {\n    isChecked: false\n  }\n  \n  balanceSubscription: Subscription;\n \n\n  // Token Array Type\n  tokenArr: Tokens[] = [];\n  MINIMA_TOKEN_ID = '0x00'; \n\n  private lastJSON: string = '';\n  private scanSub:any=null;\n  \n  constructor(private qrScanner: QRScanner, private clipboard: Clipboard, \n    public alertController: AlertController,\n    public toastController: ToastController,\n    private zone: NgZone, \n    private api: MinimaApiService,\n    private balanceService: BalanceService,\n    private platform: Platform,\n    private route: ActivatedRoute,\n    private router: Router) {\n\n      this.data.message = \"\";\n    }\n\n  ngOnInit() {\n    this.isCameraOpen = false;\n  }\n\n  ionViewWillEnter(){\n    // check for updates\n    window.addEventListener('load', (ev: Event) => {\n      // Page loaded\n      window.addEventListener('MinimaEvent', (evt: any)=> {\n        // Event connection success\n        if(evt.detail.event === 'newbalance') {\n\n          this.pullInTokens();\n\n        } \n      });\n    });\n\n    this.pullInTokens();\n    this.isCameraOpen = false;\n  }\n\n  ionViewWillLeave() {\n    // unsubscribe\n    this.balanceSubscription.unsubscribe();\n    this.stopCamera();\n  }\n\n  // get token selected or set Minima as default\n  getTokenSelected() {    \n    // check url snapshot\n    const empty = undefined;\n    const param = this.route.snapshot.params['id'];\n    // check param\n    if(param === empty || param === this.MINIMA_TOKEN_ID){\n    \n      this.itemSelected = this.tokenArr[0];\n      this.updateTokenId(\"0x00\");\n    \n    } else if(param !== empty && param !== this.MINIMA_TOKEN_ID ){\n    this.tokenArr.forEach(element => {\n      if(param === element.tokenid){\n        this.itemSelected = element;\n        this.updateTokenId(element.tokenid);\n      }\n    })\n  }\n  }\n\n  // listen to selection change\n  onItemSelection($event) {\n    const param = this.route.snapshot.params['id'];\n    this.tokenArr.forEach(element => {\n      if(this.itemSelected === element && param !== element.tokenid){\n        this.itemSelected = element;\n        \n        this.router.navigate([\"/send-funds\", {id: element.tokenid}]);\n\n        //console.log(this.itemSelected)\n        // update tokenid\n        this.updateTokenId(element.tokenid);\n      }\n    })\n  }\n  // fn to update tokenid\n  updateTokenId(id) {\n    this.data.tokenid = id;\n  }\n\n  /** ScanQR: Native */\n  scanQR() {Â \n    if(this.platform.is('ios') || this.platform.is('android')){\n      this.qrScanner.prepare()\n      .then((status: QRScannerStatus) => {\n        if (status.authorized) {\n          \n          // Which class adding should I use?\n          this.identifyPlatformToScan_Add();\n\n          this.qrScanner.show();\n          this.isCameraOpen = true;\n\n          this.scanSub = this.qrScanner.scan().subscribe((text: string) => {\n            this.zone.run(()=>{\n              this.data.address = text;\n              this.stopCamera();\n\n              this.identifyPlatformToScan_Remove();\n\n              this.isCameraOpen = false;\n              })\n\n          }, (err) => {\n            console.log('Scanned failed', err);\n          })\n\n        } else if (status.denied) {\n          // camera permission was permanently denied\n          // you must use QRScanner.openSettings() method to guide the user to the settings page\n          // then they can grant the permission from there\n          this.presentAlert('Please check camera permission','Error');\n        } else {\n          // permission was denied, but not permanently. You can ask for permission again at a later time.\n          this.presentAlert('Please check camera permission','Error');\n        }\n      })\n      .catch((e: any) => console.log('Error is', e));\n    }\n  }\n\n  stopCamera() {\n    if(this.scanSub!==null){\n      this.qrScanner.hide();\n      this.scanSub.unsubscribe();\n    }\n    this.scanSub = null;\n    this.identifyPlatformToScan_Remove();\n    this.isCameraOpen = false;\n    this.qrScanner.destroy();\n  }\n\n  \n  /** ALERTS */\n  async presentAlert(msg:string,header:string) {\n    const alert = await this.alertController.create({\n      header: header,\n      message: msg,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n  async presentToast(msg: string, type: string) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 4000,\n      color: type,\n      keyboardClose: true,\n      translucent: true,\n      position:  'top'\n    });\n    toast.present();\n  }\n\n  // API CALLS\n  pullInTokens() {\n    this.balanceSubscription =this.balanceService.getBalance().pipe(map(responseData => {\n      const tokenArr: Tokens[] = [];\n      for(const key in responseData){\n        if(responseData.hasOwnProperty(key)){\n          let element = responseData[key];\n          // round up confirmed && unconfirmed\n          \n          let tempConfirmed = (Math.round(element.confirmed * 100)/100);\n          let tempUnconfirmed = (Math.round(element.unconfirmed * 100)/100);\n\n          if(this.MINIMA_TOKEN_ID === element.tokenid){\n            this.minimaToken = element.tokenid;\n          }\n          tokenArr.push({\n            tokenid: element.tokenid,\n            token: element.token,\n            description: element.description,\n            icon: element.icon,\n            proof: element.proof,\n            total: element.total,\n            script: element.script,\n            coinid: element.coinid,\n            totalamount: element.totalamount,\n            scale: element.scale,\n            confirmed: tempConfirmed,\n            unconfirmed: tempUnconfirmed,\n            mempool: element.mempool,\n            sendable: element.sendable\n          });\n\n          // add Minima always to the top\n          if(element.tokenid === this.MINIMA_TOKEN_ID){\n            tokenArr.pop(); // pop it\n            this.balanceService.update(\n            tokenArr,\n            {\n              tokenid: element.tokenid,\n              token: element.token,\n              total: element.total,\n              confirmed: tempConfirmed,\n              unconfirmed: tempUnconfirmed,\n              mempool: element.mempool,\n              sendable: element.sendable\n            });\n          }\n\n          }\n        }\n\n        return tokenArr;\n        \n      })\n    )\n    .subscribe(responseData => {\n      \n      //check if changed\n      if(this.lastJSON !== JSON.stringify(responseData)){\n        this.tokenArr = [...responseData];\n        this.lastJSON = JSON.stringify(responseData);\n\n        // add tokens\n        this.getTokenSelected();\n      } \n\n    });\n  }\n\n  sendFunds(){\n    if(this.data.address&&this.data.address!==''&&this.data.amount&&this.data.amount>0&&\n    this.data.tokenid&&this.data.tokenid!==''&&this.data.message===undefined){\n      this.api.sendFunds(this.data).then((res:any)=>{\n        if(res.status === true) {\n          //clear inputs\n          this.address.value = \"\";\n          this.amount.value = \"\";\n          //success\n          this.presentToast(\"Success!  Your transaction has been posted!\", \"success\");\n        } else {\n          this.presentToast(\"Insufficient funds.  Check your funds.\", \"danger\");\n          \n        }\n      })\n    } else if(this.data.address&&this.data.address!==''&&this.data.amount&&this.data.amount>0&&\n    this.data.tokenid&&this.data.tokenid!==''&&this.data.message!==undefined&&this.data.message.length >= 0) {\n      this.api.createTXN(this.data).then((res:any)=> {\n        if(res[4].status === true) {\n          //clear inputs\n          this.address.value = \"\";\n          this.amount.value = \"\";\n          this.message.value = \"\";\n          //success\n          this.presentToast(\"Success!  Your transaction has been posted!\", \"success\");\n        } else if(res[4].status === false) {\n          this.presentToast(\"Insufficient funds.  Check your funds.\", \"danger\");\n        }\n        else {\n          \n        }\n      })\n    } else {\n      this.presentAlert('Please check the input fields', 'Error');\n    }\n  }\n\n  \n  /** MISC FUNCS */\n  identifyPlatformToScan_Add(){\n    document.addEventListener(\"DOMContentLoaded\", function(event) { \n      //Do work\n      if(this.platform.is('ios')){\n        setTimeout( () => {\n          window.document.querySelectorAll('ion-content')\n            .forEach(element => {\n              const element1 = element.shadowRoot.querySelector('style');\n              element1.innerHTML = element1.innerHTML\n            .replace('--background:var(--ion-background-color,#fff);', '--background: transparent');\n          });\n        }, 300);\n      } else if(this.platform.is('android')) {\n        // window.document.querySelector('ion-content').classList.add('transparentBody');\n        setTimeout( () => {\n        window.document.querySelectorAll('ion-content')\n            .forEach(element => {\n              const element1 = element.shadowRoot.querySelector('style');\n              element1.innerHTML = element1.innerHTML\n            .replace('--background:var(--ion-background-color,#fff);', '--background: transparent');\n          });\n        }, 300);\n      }\n    });\n  }\n  identifyPlatformToScan_Remove(){\n    document.addEventListener(\"DOMContentLoaded\", function(event) {\n    if(this.platform.is('ios')){\n      \n      setTimeout( () => {\n        window.document.querySelectorAll('ion-content')\n          .forEach(element => {\n            const element1 = element.shadowRoot.querySelector('style');\n            element1.innerHTML = element1.innerHTML\n          .replace('--background: transparent', '--background:var(--ion-background-color,#fff);');\n        });\n      }, 300);\n    } else if(this.platform.is('android')) {\n      // window.document.querySelector('ion-content').classList.remove('transparentBody');\n      setTimeout( () => {\n        window.document.querySelectorAll('ion-content')\n          .forEach(element => {\n            const element1 = element.shadowRoot.querySelector('style');\n            element1.innerHTML = element1.innerHTML\n          .replace('--background: transparent', '--background:var(--ion-background-color,#fff);');\n        });\n      }, 300);\n    }\n\n    });\n  }\n\n  // work around for weird ion-textarea height: 0 + auto-grow='true'\n  checkTextarea(){\n    return this.message.getInputElement().then((element) => {\n      if(element.style.height == '0px'){\n       return  element.style.height = 'auto';\n      } else {\n        setTimeout(()=> this.checkTextarea(),100)};\n      })\n  }\n  checkboxValue(ev: any, messageEntry: any){\n    this.checkTextarea();\n    if(messageEntry === false){\n      this.data.message = undefined;\n    } \n  }\n\n  // Display/hide mobile buttons with this..\n  checkPlatform() {\n    if(this.platform.is('desktop')) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  pasteFromClipboard() {\n    if(this.platform.is('desktop')) {\n\n      this.pasteFromPWA();\n\n    } else {\n      this.clipboard.paste().then(\n        (resolve: string) => {\n          this.data.address = resolve;\n        },\n        (reject: string) => {\n          console.log('Error: ' + reject);\n        }\n      );\n    }\n  \n  }\n\n  pasteFromPWA() {\n    document.addEventListener('paste', (e: ClipboardEvent) => {\n\n      this.data.address = e.clipboardData.getData('text');\n      \n      e.preventDefault();\n      document.removeEventListener('paste', null);\n    });\n    document.execCommand('paste');\n  }\n\n  webScanQR() {\n    this.isWebCameraOpen = true;\n    QrScanner.WORKER_PATH = 'assets/JS/qr-scanner-worker.min.js';\n\n    setTimeout(() => {\n      this.webQrScanner = new QrScanner(this.videoElem.nativeElement, result => {\n        this.data.address = result;\n\n        this.isWebCameraOpen = false;\n      });\n      this.webQrScanner.start();\n    }, 500);\n      \n  }\n\n  stopWebScanQR() {\n    this.webQrScanner.destroy();\n    this.webQrScanner = null;\n    this.isWebCameraOpen = false;\n  }\n}\n\n\n"],"sourceRoot":""}